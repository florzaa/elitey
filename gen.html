<html>
    <head>
        <meta charset="UTF-8">
        <script>
            function getParameter(parameterName) {
                let parameters = new URLSearchParams(window.location.search);
                return parameters.get(parameterName);
            }
        </script>
    </head>
    <body>
        <div id="fngen">
            <p>Input fortnite username below!</p>
            <input type="text">
            <a href="https://elitey.cf/gen?gt=fn&proc=true&su=false">
                <button>Generate FN</button>
            </a>
        </div>

        <div id="processing"></div>
        <div id="done"></div>

        <script>
            // Disable all game generator's till params checked
            var fng = document.getElementById("fngen");
            var procdiv = document.getElementById("processing");
            var done = document.getElementById("done")
            fng.style.display = "block";
            procdiv.style.display = "block";
            done.style.display = "block";

            // Game generator (e.g Fortnite)
            var gt = getParameter("gt");

            // Processing bool
            var proc = getParameter("proc");

            // Succeeded
            var su = getParameter("su");

            if (gt == "fn") {
                document.title = "Florz's Fortnite Generator"
                fng.style.display = "block";

                if (proc == "true") {
                    fng.style.display = "none";
                    done.style.display = "none";
                    procdiv.style.display = "block";
                    procdiv.innerHTML = "<p>Generating Fortnite Items, please wait for this process to finish.</p><hr><p>How does FN generation work? We access Epic Games API servers to run a special command and give all items by Hex ID.</p>"
                    setTimeout(function() {
                        document.location.href = "https://elitey.cf/gen?gt=fn&proc=false&su=true"
                    }, 10000);
                }

                if (su == "true") {
                    fng.style.display = "none";
                    procdiv.style.display = "none";
                    done.style.display = "block";
                    done.innerHTML = "<p>Fortnite Generated! Please relaunch your game if its opened</p>"
                }
            }
        </script>
    </body>
</html>